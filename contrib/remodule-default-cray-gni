  module purge
  module use -a /ccs/sw/gni/modulefiles

# Start with GNU.
  module load   modules
  module load   torque
  module load   moab
  module load   ugni
  module load   gni-headers
  module load   lustre-cray_gem_s
  module load   lustre-utils
  module load   PrgEnv-gnu
  module unload xt-libsci
  module unload atp

# Get access to more current releases of autotools.
  module load   autoconf automake libtool git

# At least for now, we will avoid Cray Programming Environment
# interfaces, so we need to set CPPFLAGS and LDFLAGS.
  setenv CF_PMI         `pkg-config --cflags cray-pmi`
  setenv CF_UGNI        `pkg-config --cflags cray-ugni`
  setenv CFLAGS		"-g -O3 -pthread ${CF_PMI} ${CF_UGNI}"
  setenv LD_PMI         `pkg-config --libs   cray-pmi`
  setenv LD_UGNI        `pkg-config --libs   cray-ugni`
  setenv LDFLAGS	"${LD_PMI} ${LD_UGNI}"
  setenv CCI_CONFIG	../../contrib/ornl-gni.ini
