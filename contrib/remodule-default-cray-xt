  module purge
  module use -a /opt/cray/ss/modulefiles

# Start with GNU.
  module load   modules
  module load   torque
  module load   moab
  module load   portals
  module load   lustre-cray_ss_s/1.8.6
  module load   lustre-cray_ss_s
  module load   lustre-utils
  module load   PrgEnv-gnu
  module unload xt-libsci
  module unload atp

# Get access to more current releases of autotools.
  module load   autoconf automake libtool git

# At least for now, we will avoid Cray Programming Environment
# interfaces, so we need to set CPPFLAGS and LDFLAGS.
  setenv CFLAGS		"-g -O3 -pthread"
  setenv CPPFLAGS	-I/opt/cray/portals/default/include
  setenv LD_PORTALS     "-L/opt/cray/portals/default/lib64 -lportals"
  setenv LD_ALPS        "-L/usr/lib/alps -lalpslli -lalpsutil"
  setenv LD_PMI         "-L/opt/cray/pmi/default/lib64 -lpmi"
  setenv LDFLAGS	"${LD_PORTALS} ${LD_ALPS} ${LD_PMI}"
  setenv CCI_CONFIG	../../contrib/ornl-portals.ini
